---
interface Props {
  label: string;
  link?: string;
  newtab?: boolean;
  type?: "primary" | "secondary";
  color?: string;
  colorScheme?: "cyan" | "purple" | "green" | "amber" | "red";
  hoverInvert?: boolean;
  glass?: boolean;
}

const {
  label,
  link,
  newtab = false,
  type = "primary",
  color,
  colorScheme = "cyan",
  hoverInvert = false,
  glass = true,
}: Props = Astro.props;

// Define gradient classes based on color scheme
const gradientClasses = {
  cyan: "from-cyan-500 to-teal-500 hover:from-cyan-600 hover:to-teal-600",
  purple:
    "from-purple-500 to-violet-500 hover:from-purple-600 hover:to-violet-600",
  green: "from-green-500 to-lime-500 hover:from-green-600 hover:to-lime-600",
  amber:
    "from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600",
  red: "from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600",
};

const gradientClass =
  color || `bg-gradient-to-r ${gradientClasses[colorScheme]}`;
---

{
  glass ? (
    <a
      href={link}
      target={`${newtab ? "_blank" : ""}`}
      class={`no-underline inline-block hover:opacity-100 ${type == "primary" ? "" : "intersect:animate-fade opacity-0"}`}
    >
      <div
        class={`glass-t hover:bg-opacity-20 hover:backdrop-blur-none
      ${type == "primary" ? "px-4 py-2 rounded-md font-bold intersect:animate-fade opacity-0" : "px-2 py-0.5 rounded-sm text-txt-light dark:text-darkmode-txt-light"}`}
      >
        {label}
      </div>
    </a>
  ) : (
    <a
      href={link}
      target={`${newtab ? "_blank" : ""}`}
      class={`no-underline inline-block group intersect:animate-fadeLeft opacity-0 ${hoverInvert ? "hover:opacity-100" : ""}`}
    >
      <div
        class={`
    ${gradientClass}
    ${type == "primary" ? "p-0.5 rounded-md" : "p-[1.5px] rounded-sm"}`}
      >
        <div
          class={`bg-bg-p dark:bg-darkmode-bg-p
      ${type == "primary" ? "px-4 py-2 rounded-md" : "px-2 py-0.5 rounded-sm"}
      ${hoverInvert ? "group-hover:bg-opacity-0" : ""}`}
        >
          <div
            class={`text-transparent bg-clip-text
        ${gradientClass}
        ${type == "primary" ? "font-bold" : ""}
        ${hoverInvert ? "group-hover:text-txt-p dark:group-hover:text-darkmode-txt-p" : ""}`}
          >
            {label}
          </div>
        </div>
      </div>
    </a>
  )
}
